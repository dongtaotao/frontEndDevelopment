webpackåŸç† https://www.yuque.com/baiyueguang-rfnbu/tr4d0i/vypyf0
ä¸€ã€webpackåšäº†ä»€ä¹ˆ
ç”¨æˆ·ä½¿ç”¨webpackæ‰“åŒ…é¡¹ç›®ï¼Œåªè¦å†™å¥½é…ç½®ï¼Œç„¶åè¿è¡Œwebpackï¼Œå°±å¯ä»¥å¾—åˆ°æ‰“åŒ…ç»“æœäº†ï¼Œwebpackä¼šæ ¹æ®é…ç½®é¡¹è‡ªåŠ¨åŒ–æ„å»ºé¡¹ç›®ã€‚
å› æ­¤webpackåšçš„å·¥ä½œå¯ä»¥ç®€å•æè¿°ä¸ºé¡¹ç›® + é…ç½® => distã€‚
æ›´è¿›ä¸€æ­¥ï¼Œwebpackè¯»å–é…ç½®ï¼Œæ ¹æ®å…¥å£å¼€å§‹éå†æ–‡ä»¶ï¼Œè§£æä¾èµ–ï¼Œä½¿ç”¨loaderå¤„ç†å„æ¨¡å—ï¼Œç„¶åå°†æ–‡ä»¶æ‰“åŒ…æˆbundleåè¾“å‡ºåˆ°outputæŒ‡å®šçš„ç›®å½•ä¸­ã€‚
äºŒã€webpackæ„å»ºè¿‡ç¨‹
Webpack CLI å¯åŠ¨æ‰“åŒ…æµç¨‹ï¼Œè§£æé…ç½®é¡¹å‚æ•°ï¼›
è½½å…¥ Webpack æ ¸å¿ƒæ¨¡å—ï¼Œåˆ›å»º Compiler å¯¹è±¡ï¼›
æ³¨å†Œplugins
ä½¿ç”¨ Compiler å¯¹è±¡å¼€å§‹ç¼–è¯‘æ•´ä¸ªé¡¹ç›®ï¼›
ä»å…¥å£æ–‡ä»¶å¼€å§‹ï¼Œè§£ææ¨¡å—ä¸ºASTï¼Œåˆ†ææ¨¡å—ä¾èµ–ï¼Œå½¢æˆä¾èµ–å…³ç³»æ ‘ï¼›
é€’å½’ä¾èµ–æ ‘ï¼Œå°†æ¯ä¸ªæ¨¡å—äº¤ç»™å¯¹åº”çš„ Loader å¤„ç†ï¼›
åˆå¹¶ Loader å¤„ç†å®Œçš„ç»“æœï¼Œå°†æ‰“åŒ…ç»“æœè¾“å‡ºåˆ° dist ç›®å½•ã€‚
ä¸‰ã€webpackæ’ä»¶æœºåˆ¶
Webpack çš„æ’ä»¶ç³»ç»Ÿæ˜¯åŸºäºå®˜æ–¹è‡ªå·±çš„ Tapable åº“å®ç°çš„ã€‚
Tapable æ˜¯ä¸€ä¸ªç±»ä¼¼äº Node.js ä¸­çš„ EventEmitterçš„åº“ï¼Œä½†æ›´ä¸“æ³¨äºè‡ªå®šä¹‰äº‹ä»¶çš„è§¦å‘å’Œå¤„ç†ï¼Œtapableæ§åˆ¶é’©å­å‡½æ•°çš„å‘å¸ƒä¸è®¢é˜…ï¼Œæ§åˆ¶ç€webpackçš„æ’ä»¶ç³»ç»Ÿï¼Œwebpackçš„æœ¬è´¨å°±æ˜¯ä¸€ç³»åˆ—çš„æ’ä»¶è¿è¡Œã€‚
Tapable ä¸­ä¸»è¦æä¾›äº†åŒæ­¥ä¸å¼‚æ­¥ä¸¤ç§é’©å­ã€‚
å››ã€compilerå’Œcompilation
compileræ˜¯ç¼–è¯‘å™¨ï¼Œæ§åˆ¶webpackæ•´ä¸ªç¼–è¯‘æµç¨‹ï¼Œcompilationåˆ™æ˜¯å¤„ç†æ¨¡å—ï¼ŒåŒ…æ‹¬è°ƒç”¨loaderç¼–è¯‘æ¨¡å—ï¼Œæ¨¡å—ä¼˜åŒ–ï¼Œç”Ÿæˆhashï¼Œç”Ÿæˆchunkç­‰ã€‚
é™¤äº†æ¨¡å—çš„å¤„ç†ï¼Œwebpackè¿˜æœ‰å¾ˆå¤šå…¶ä»–æ“ä½œï¼Œcompilerè´Ÿè´£å¤„ç†åˆå§‹åŒ–ï¼Œæ’ä»¶æ³¨å†Œï¼Œè¾“å‡ºæ–‡ä»¶ï¼Œç¼–è¯‘å¤±è´¥å¤„ç†ç­‰ç­‰ã€‚  


1ã€åˆå§‹åŒ–é˜¶æ®µ - webpack

åˆå¹¶é…ç½®é¡¹
åˆ›å»º compiler
æ³¨å†Œæ’ä»¶

2ã€ç¼–è¯‘é˜¶æ®µ - build

è¯»å–å…¥å£æ–‡ä»¶
ä»å…¥å£æ–‡ä»¶å¼€å§‹è¿›è¡Œç¼–è¯‘
è°ƒç”¨ loader å¯¹æºä»£ç è¿›è¡Œè½¬æ¢
å€ŸåŠ© babel è§£æä¸º AST æ”¶é›†ä¾èµ–æ¨¡å—
é€’å½’å¯¹ä¾èµ–æ¨¡å—è¿›è¡Œç¼–è¯‘æ“ä½œ

3ã€ç”Ÿæˆé˜¶æ®µ - seal

åˆ›å»º chunk å¯¹è±¡
ç”Ÿæˆ assets å¯¹è±¡

4ã€å†™å…¥é˜¶æ®µ - emit

ä½œè€…ï¼šæ˜é‡Œäºº
é“¾æ¥ï¼šhttps://juejin.cn/post/7130999419582971912
æ¥æºï¼šç¨€åœŸæ˜é‡‘
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚

13 ä¸ª Webpack ä¼˜åŒ–æŠ€å·§ 
https://blog.51cto.com/u_15315508/5590112

webpack4 çš„30ä¸ªæ­¥éª¤æ‰“é€ ä¼˜åŒ–åˆ°æè‡´çš„ react å¼€å‘ç¯å¢ƒï¼Œå¦‚çº¦è€Œè‡³
https://juejin.cn/post/6844903862898262024

loaderæœ¬è´¨å°±æ˜¯ä¸€ä¸ªå‡½æ•°
pluginæ˜¯æ’ä»¶

webpackä¸­å¼‚æ­¥åŠ è½½(æ‡’åŠ è½½)åŸç†  https://juejin.cn/post/7152516872330543141#heading-1  ğŸ”¥ğŸ”¥



webpackçƒ­æ›´æ–°åŸç†
ä»€ä¹ˆæ˜¯webpackçƒ­æ›´æ–°
å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä»£ç å‘ç”Ÿå˜åŠ¨åï¼Œwebpackä¼šé‡æ–°ç¼–è¯‘ï¼Œç¼–è¯‘åæµè§ˆå™¨æ›¿æ¢ä¿®æ”¹çš„æ¨¡å—ï¼Œå±€éƒ¨æ›´æ–°ï¼Œæ— éœ€åˆ·æ–°æ•´ä¸ªé¡µé¢

åŸç†
é€šè¿‡websocketå®ç°ï¼Œå»ºç«‹æœ¬åœ°æœåŠ¡å’Œæµè§ˆå™¨çš„åŒå‘é€šä¿¡ï¼Œå½“ä»£ç å˜åŒ–ï¼Œé‡æ–°ç¼–è¯‘åï¼Œé€šçŸ¥æµè§ˆå™¨è¯·æ±‚æ›´æ–°çš„æ¨¡å—ï¼Œæ›¿æ¢åŸæœ‰çš„æ¨¡å—

æ­¥éª¤
é€šè¿‡webpack-dev-serverå¼€å¯serveræœåŠ¡ï¼Œæœ¬åœ°serverå¯åŠ¨ä¹‹åï¼Œå†å»å¯åŠ¨websocketæœåŠ¡ï¼Œå»ºç«‹æœ¬åœ°æœåŠ¡å™¨å’Œæµè§ˆå™¨åŒå‘é€šä¿¡
webpackæ¯æ¬¡ç¼–è¯‘åï¼Œä¼šç”Ÿæˆä¸€ä¸ªhashå€¼ï¼Œhashä»£è¡¨æ¯ä¸€æ¬¡ç¼–è¯‘çš„è¡¨ç¤ºï¼Œä½œä¸ºä¸‹ä¸€æ¬¡çƒ­æ›´æ–°çš„è¡¨ç¤º
webpackç›‘å¬æ–‡ä»¶ï¼ˆé€šè¿‡æ–‡ä»¶çš„ç”Ÿæˆæ—¶é—´åˆ¤æ–­æ˜¯å¦å˜åŒ–ï¼‰ï¼Œå½“æ–‡ä»¶å˜åŒ–åï¼Œé‡æ–°ç¼–è¯‘
ç¼–è¯‘ç»“æŸåï¼Œé€šçŸ¥æµè§ˆå™¨è¯·æ±‚å˜åŒ–çš„èµ„æºï¼ŒåŒæ—¶å°†æ–°ç”Ÿæˆçš„hashå€¼ä¼ ç»™æµè§ˆå™¨ï¼Œç”¨äºä¸‹æ¬¡çƒ­æ›´æ–°ä½¿ç”¨
æµè§ˆå™¨æ‹¿åˆ°æ›´æ–°çš„æ¨¡å—åï¼Œç”¨æ–°æ¨¡å—æ›¿æ¢æ—§çš„æ¨¡å—ï¼Œå®ç°å±€éƒ¨åˆ·æ–°
é“¾æ¥ï¼šhttps://juejin.cn/post/7156512771348103181


webpackç¯å¢ƒå˜é‡åœ¨é¡¹ç›®ä¸­çš„ä½¿ç”¨ https://juejin.cn/post/7189238123459510309

è‡ªç”¨å‰ç«¯å·¥ç¨‹åŒ–é¢è¯•é¢˜ å…¨
https://juejin.cn/post/7198176378918830139


Tree Shaking
https://fe.ecool.fun/topic/a2580d1e-90e9-48bc-b93c-247425fb3e5f?orderBy=updateTime&order=desc&tagId=28
Tree Shaking æ˜¯ä¸€ä¸ªæœ¯è¯­ï¼Œåœ¨è®¡ç®—æœºä¸­è¡¨ç¤ºæ¶ˆé™¤æ­»ä»£ç ï¼Œä¾èµ–äºES Moduleçš„é™æ€è¯­æ³•åˆ†æï¼ˆä¸æ‰§è¡Œä»»ä½•çš„ä»£ç ï¼Œå¯ä»¥æ˜ç¡®çŸ¥é“æ¨¡å—çš„ä¾èµ–å…³ç³»ï¼‰

åœ¨webpackå®ç°Trss shakingæœ‰ä¸¤ç§ä¸åŒçš„æ–¹æ¡ˆï¼š

usedExportsï¼šé€šè¿‡æ ‡è®°æŸäº›å‡½æ•°æ˜¯å¦è¢«ä½¿ç”¨ï¼Œä¹‹åé€šè¿‡Terseræ¥è¿›è¡Œä¼˜åŒ–çš„
sideEffectsï¼šè·³è¿‡æ•´ä¸ªæ¨¡å—/æ–‡ä»¶ï¼Œç›´æ¥æŸ¥çœ‹è¯¥æ–‡ä»¶æ˜¯å¦æœ‰å‰¯ä½œç”¨


è¯´è¯´webpack proxyå·¥ä½œåŸç†ï¼Ÿä¸ºä»€ä¹ˆèƒ½è§£å†³è·¨åŸŸ?
proxyå·¥ä½œåŸç†å®è´¨ä¸Šæ˜¯åˆ©ç”¨http-proxy-middleware è¿™ä¸ªhttpä»£ç†ä¸­é—´ä»¶ï¼Œå®ç°è¯·æ±‚è½¬å‘ç»™å…¶ä»–æœåŠ¡å™¨
ä¸¾ä¸ªä¾‹å­ï¼š
åœ¨å¼€å‘é˜¶æ®µï¼Œæœ¬åœ°åœ°å€ä¸ºhttp://localhost:3000ï¼Œè¯¥æµè§ˆå™¨å‘é€ä¸€ä¸ªå‰ç¼€å¸¦æœ‰/apiæ ‡è¯†çš„è¯·æ±‚åˆ°æœåŠ¡ç«¯è·å–æ•°æ®ï¼Œä½†å“åº”è¿™ä¸ªè¯·æ±‚çš„æœåŠ¡å™¨åªæ˜¯å°†è¯·æ±‚è½¬å‘åˆ°å¦ä¸€å°æœåŠ¡å™¨ä¸­
const express = require('express');
const proxy = require('http-proxy-middleware');

const app = express();

app.use('/api', proxy({target: 'http://www.example.org', changeOrigin: true}));
app.listen(3000);

// http://localhost:3000/api/foo/bar -> http://www.example.org/api/foo/bar


å·¥ç¨‹åŒ–é¢è¯•é¢˜æ±‡æ€»https://juejin.cn/post/7206973995727765559

62. webpackçš„çƒ­æ›´æ–°
ä¸»è¦ä¾èµ–webpack, express, websocket

ä½¿ç”¨expresså¯åŠ¨æœ¬åœ°æœåŠ¡ï¼Œå½“æµè§ˆå™¨è®¿é—®çš„æ—¶å€™åšå‡ºç›¸åº”
æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä½¿ç”¨websocketå®ç°é•¿è¿æ¥
webpackç›‘å¬æºæ–‡ä»¶çš„å˜åŒ–
æ¯æ¬¡ç¼–è¯‘å®Œæˆä¹‹åä¼šç”Ÿæˆhashå€¼ï¼Œå·²æ”¹åŠ¨æ¨¡å—çš„jsonæ–‡ä»¶ï¼Œå·²æ”¹åŠ¨æ¨¡å—ä»£ç çš„jsæ–‡ä»¶
ç¼–è¯‘å®Œæˆåé€šè¿‡socketå‘å®¢æˆ·ç«¯æ¨é€å½“å‰ç¼–è¯‘çš„hashå€¼

å®¢æˆ·ç«¯çš„websocketç›‘å¬åˆ°æœ‰æ–‡ä»¶æ”¹åŠ¨æ¨é€è¿‡æ¥çš„hashå€¼ï¼Œä¼šå’Œä¸Šä¸€æ¬¡è¿›è¡Œå¯¹æ¯”
ä¸€è‡´å°±èµ°ç¼“å­˜
ä¸ä¸€è‡´åˆ™é€šè¿‡ajaxå’Œjsonpè·å–æœ€æ–°çš„èµ„æº
ä½¿ç”¨å†…å­˜æ–‡ä»¶ç³»ç»Ÿå»æ›¿æ¢æœ‰ä¿®æ”¹çš„å†…å®¹å®ç°å±€éƒ¨æ›´æ–°
é“¾æ¥ï¼šhttps://juejin.cn/post/6844904078288355341


å›é¡¾webpackåœ¨vue.config.jsä¸­å†™loaderå’Œplugin
https://juejin.cn/post/7208823936301826107#heading-21


webpack çƒ­æ›´æ–°æœºåˆ¶
çƒ­æ›´æ–°æµç¨‹æ€»ç»“:
å¯åŠ¨æœ¬åœ°serverï¼Œè®©æµè§ˆå™¨å¯ä»¥è¯·æ±‚æœ¬åœ°çš„é™æ€èµ„æº
é¡µé¢é¦–æ¬¡æ‰“å¼€åï¼ŒæœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯é€šè¿‡ websocketå»ºç«‹é€šä¿¡æ¸ é“ï¼ŒæŠŠä¸‹ä¸€æ¬¡çš„ hash è¿”å›å‰ç«¯
å®¢æˆ·ç«¯è·å–åˆ°hashï¼Œè¿™ä¸ªhashå°†ä½œä¸ºä¸‹ä¸€æ¬¡è¯·æ±‚æœåŠ¡ç«¯ hot-update.js å’Œ hot-update.jsonçš„hash
ä¿®æ”¹é¡µé¢ä»£ç åï¼ŒWebpack ç›‘å¬åˆ°æ–‡ä»¶ä¿®æ”¹åï¼Œå¼€å§‹ç¼–è¯‘ï¼Œç¼–è¯‘å®Œæˆåï¼Œå‘é€ build æ¶ˆæ¯ç»™å®¢æˆ·ç«¯
å®¢æˆ·ç«¯è·å–åˆ°hashï¼ŒæˆåŠŸåå®¢æˆ·ç«¯æ„é€ hot-update.js scripté“¾æ¥ï¼Œç„¶åæ’å…¥ä¸»æ–‡æ¡£
hot-update.js æ’å…¥æˆåŠŸåï¼Œæ‰§è¡ŒhotAPI çš„ createRecord å’Œ reloadæ–¹æ³•ï¼Œè·å–åˆ° Vue ç»„ä»¶çš„ renderæ–¹æ³•ï¼Œé‡æ–° render ç»„ä»¶ï¼Œ ç»§è€Œå®ç° UI æ— åˆ·æ–°æ›´æ–°ã€‚

é“¾æ¥ï¼šhttps://juejin.cn/post/6991724298197008421


webpackæ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ(è¯¦ç»†)
https://juejin.cn/post/7233298696292040741?utm_source=gold_browser_extension

3.å»é™¤å¤šä½™çš„æ ·å¼
éšç€é¡¹ç›®è¶Šæ¥è¶Šå¤§ï¼Œä¹¦å†™çš„ä¸æ³¨æ„ï¼Œä¸è‡ªç„¶çš„å°±ä¼šäº§ç”Ÿä¸€äº›å¤šä½™çš„cssï¼Œå°é¡¹ç›®è¿˜å¥½ï¼Œä¸€æ—¦é¡¹ç›®å¤§äº†ä»¥åï¼Œå¤šä½™çš„cssä¼šè¶Šæ¥è¶Šå¤šï¼Œå¯¼è‡´åŒ…è¶Šæ¥è¶Šå¤§ï¼Œä»è€Œå½±å“é¡¹ç›®è¿è¡Œæ€§èƒ½ï¼Œæ‰€ä»¥æœ‰å¿…è¦åœ¨æ­£å¼ç¯å¢ƒå»é™¤æ‰è¿™äº›å¤šä½™çš„cssï¼Œè¿™é‡Œæ¨èä¸€ä¸ªåº“purgecssï¼Œæ”¯æŒCLIã€JavascriptApiã€Webpackç­‰å¤šç§æ–¹å¼ä½¿ç”¨ï¼Œé€šè¿‡è¿™ä¸ªåº“ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„å»é™¤æ‰å¤šä½™çš„cssã€‚
javascriptå¤åˆ¶ä»£ç npm i glob-all purify-css purifycss-webpack --save-dev
 
const PurifyCSS = require('purifycss-webpack')
const glob = require('glob-all')
plugins:[
    // æ¸…é™¤æ— ç”¨ css
    new PurifyCSS({
      paths: glob.sync([
        // è¦åš CSS Tree Shaking çš„è·¯å¾„æ–‡ä»¶
        path.resolve(__dirname, './src/*.html'), // è¯·æ³¨æ„ï¼Œæˆ‘ä»¬åŒæ ·éœ€è¦å¯¹ html æ–‡ä»¶è¿›è¡Œ tree shaking
        path.resolve(__dirname, './src/*.js')
      ])
    })
]
é“¾æ¥ï¼šhttps://juejin.cn/post/6844903949883932679



å¸¸ç”¨çš„webpack10ä¸ªä¼˜åŒ–æŠ€å·§
https://juejin.cn/post/7288990479512748072?utm_source=gold_browser_extension