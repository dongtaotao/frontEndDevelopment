ã€Œå†æ—¶8ä¸ªæœˆã€10ä¸‡å­—å‰ç«¯çŸ¥è¯†ä½“ç³»æ€»ç»“ï¼ˆå·¥ç¨‹åŒ–ç¯‡ï¼‰ğŸ”¥
https://juejin.cn/post/7146976516692410376


mini ç‰ˆçš„ webpack æ‰“åŒ…æµç¨‹
1ï¼‰ä»å…¥å£æ–‡ä»¶å¼€å§‹è§£æ
2ï¼‰æŸ¥æ‰¾å…¥å£æ–‡ä»¶å¼•å…¥äº†å“ªäº› js æ–‡ä»¶ï¼Œæ‰¾åˆ°ä¾èµ–å…³ç³»
3ï¼‰é€’å½’éå†å¼•å…¥çš„å…¶ä»– jsï¼Œç”Ÿæˆæœ€ç»ˆçš„ä¾èµ–å…³ç³»å›¾è°±
4ï¼‰åŒæ—¶å°† ES6 è¯­æ³•è½¬åŒ–æˆ ES5
5ï¼‰æœ€ç»ˆç”Ÿæˆä¸€ä¸ªå¯ä»¥åœ¨æµè§ˆå™¨åŠ è½½æ‰§è¡Œçš„ js æ–‡ä»¶

ä½œè€…ï¼šæµ·é˜”_å¤©ç©º
é“¾æ¥ï¼šhttps://juejin.cn/post/7146976516692410376
æ¥æºï¼šç¨€åœŸæ˜é‡‘
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚


Plugin
ä½œç”¨ï¼šæ‰©å±• webpack åŠŸèƒ½

å·¥ä½œåŸç†

webpack é€šè¿‡å†…éƒ¨çš„äº‹ä»¶æµæœºåˆ¶ä¿è¯äº†æ’ä»¶çš„æœ‰åºæ€§ï¼Œåº•å±‚æ˜¯åˆ©ç”¨å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œwebpack åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¼šå¹¿æ’­äº‹ä»¶ï¼Œæ’ä»¶åªéœ€è¦ç›‘å¬å®ƒæ‰€å…³å¿ƒçš„äº‹ä»¶ï¼Œåœ¨ç‰¹å®šçš„æ—¶æœºå¯¹èµ„æºåšå¤„ç†


// è‡ªå®šä¹‰ä¸€ä¸ªåä¸ºMyPluginæ’ä»¶ï¼Œè¯¥æ’ä»¶åœ¨æ‰“åŒ…å®Œæˆåï¼Œåœ¨æ§åˆ¶å°è¾“å‡º"æ‰“åŒ…å·²å®Œæˆ"
class MyPlugin {
  // åŸå‹ä¸Šéœ€è¦å®šä¹‰apply çš„æ–¹æ³•
  apply(compiler) {
    // é€šè¿‡compilerè·å–webpackå†…éƒ¨çš„é’©å­
    compiler.hooks.done.tap('My Plugin', (compilation, cb) => {
      console.log('æ‰“åŒ…å·²å®Œæˆ');
      // åˆ†ä¸ºåŒæ­¥å’Œå¼‚æ­¥çš„é’©å­ï¼Œå¼‚æ­¥é’©å­å¿…é¡»æ‰§è¡Œå¯¹åº”çš„å›è°ƒ
      cb();
    });
  }
}
module.exports = MyPlugin;


Loader
Loader ä½œç”¨

webpack åªèƒ½ç›´æ¥å¤„ç† js æ ¼å¼çš„èµ„æºï¼Œä»»ä½•é js æ–‡ä»¶éƒ½å¿…é¡»è¢«å¯¹åº”çš„loaderå¤„ç†è½¬æ¢ä¸º js ä»£ç 

æ‰‹å†™ä¸€ä¸ª loader
ä¸€ä¸ªç®€å•çš„style-loader
// ä½œç”¨ï¼šå°†csså†…å®¹ï¼Œé€šè¿‡styleæ ‡ç­¾æ’å…¥åˆ°é¡µé¢ä¸­
// sourceä¸ºè¦å¤„ç†çš„cssæºæ–‡ä»¶
function loader(source) {
  let style = `
    let style = document.createElement('style');
    style.setAttribute("type", "text/css");
    style.innerHTML = ${source};
    document.head.appendChild(style)`;
  return style;
}
module.exports = loader; 



