å‰ç«¯æç›‘æ§|Jimmy - å¦‚ä½•é’ˆå¯¹ APP è‡ªå»ºå‰ç«¯ç›‘æ§ä½“ç³»
https://zhuanlan.zhihu.com/p/157812258

å‰ç«¯æç›‘æ§|Allan - å¦‚ä½•å®ç°ä¸€å¥—å¤šç«¯é”™è¯¯ç›‘æ§å¹³å°
https://zhuanlan.zhihu.com/p/158079491  å¥½æ–‡ç« 

å‰ç«¯æç›‘æ§|çƒ›è±¡ - å¦‚ä½•è®¾è®¡å‰ç«¯å®æ—¶åˆ†æåŠæŠ¥è­¦ç³»ç»Ÿ
https://zhuanlan.zhihu.com/p/159115081


è…¾è®¯äºŒé¢ï¼šç°åœ¨è¦ä½ å®ç°ä¸€ä¸ªåŸ‹ç‚¹ç›‘æ§SDKï¼Œä½ ä¼šæ€ä¹ˆè®¾è®¡ï¼Ÿ https://juejin.cn/post/7085679511290773534  ğŸ”¥ğŸ”¥ğŸ”¥

ä»é›¶å¼€å§‹æç›‘æ§ç³»ç»Ÿï¼ˆ1ï¼‰â€”â€”SDK https://juejin.cn/post/7090741336294293540
ä»é›¶å¼€å§‹æç›‘æ§ç³»ç»Ÿï¼ˆ3ï¼‰â€”â€”æ€§èƒ½ç›‘æ§ https://juejin.cn/post/7090743747041820686

performance.timing
æ€§èƒ½ç›‘æ§  é¡µé¢æ—¶é—´ï¼Œç™½å±æ—¶é—´ç­‰ https://juejin.cn/post/7090743747041820686

ä»é›¶å¼€å§‹æç›‘æ§ç³»ç»Ÿï¼ˆ3ï¼‰â€”â€”æ€§èƒ½ç›‘æ§
é¦–å±æ—¶é—´ https://juejin.cn/post/7090743747041820686#heading-2
ç¬¬ä¸€ç§æ˜¯ç®—å‡ºé¦–å±é¡µé¢ä¸­æ‰€æœ‰å›¾ç‰‡éƒ½åŠ è½½å®Œåçš„æ—¶é—´ï¼Œè¿™ç§æ–¹æ³•éš¾ä»¥è¦†ç›–æ‰€æœ‰åœºæ™¯ï¼Œå¹¶ä¸”è®¡ç®—ç»“æœå¹¶ä¸å‡†ã€‚
ç¬¬äºŒç§æ˜¯è‡ªå®šä¹‰é¦–å±æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯è‡ªå·±æ¥æ§åˆ¶ä½•æ—¶ç®—é¦–å±å…¨éƒ¨åŠ è½½å¥½äº†ï¼Œè¿™ç§æ–¹æ³•ç›¸å¯¹æ¥è¯´è¦ç²¾ç¡®å¾ˆå¤šã€‚

å‰ç«¯ç›‘æ§ç³»ç»ŸğŸ”¥ğŸ”¥ğŸ”¥
https://juejin.cn/column/7090542280624472077 
ä»é›¶å¼€å§‹æç›‘æ§ç³»ç»Ÿï¼ˆ1ï¼‰â€”â€”SDK
ä»é›¶å¼€å§‹æç›‘æ§ç³»ç»Ÿï¼ˆ2ï¼‰â€”â€”å­˜å‚¨å’Œåˆ†æ
ä»é›¶å¼€å§‹æç›‘æ§ç³»ç»Ÿï¼ˆ3ï¼‰â€”â€”æ€§èƒ½ç›‘æ§
ä»é›¶å¼€å§‹æç›‘æ§ç³»ç»Ÿï¼ˆ4ï¼‰â€”â€”å†…å­˜æ³„æ¼
ä»é›¶å¼€å§‹æç›‘æ§ç³»ç»Ÿï¼ˆ5ï¼‰â€”â€”å°ç¨‹åºç›‘æ§
ä»é›¶å¼€å§‹æç›‘æ§ç³»ç»Ÿï¼ˆ6ï¼‰â€”â€”è¾ƒé•¿çš„ç™½å±æ—¶é—´
ä»é›¶å¼€å§‹æç›‘æ§ç³»ç»Ÿï¼ˆ7ï¼‰â€”â€”ç›‘æ§é¡µé¢å¥”æºƒ https://juejin.cn/post/709074772

http://www.alloyteam.com/2020/01/14184/#prettyPhoto
performance.navigation: é¡µé¢æ˜¯åŠ è½½è¿˜æ˜¯åˆ·æ–°ã€å‘ç”Ÿäº†å¤šå°‘æ¬¡é‡å®šå‘
performance.timing: é¡µé¢åŠ è½½çš„å„é˜¶æ®µæ—¶é•¿
performance.memoryï¼š åŸºæœ¬å†…å­˜ä½¿ç”¨æƒ…å†µï¼ŒChrome æ·»åŠ çš„ä¸€ä¸ªéæ ‡å‡†æ‰©å±•


å¦‚ä½•è¿›è¡Œ web æ€§èƒ½ç›‘æ§ï¼Ÿ
http://www.alloyteam.com/2020/01/14184/#prettyPhoto

é¢è¯•å¿…é—®ï¼šå‰ç«¯æ€§èƒ½ç›‘æ§Performance https://juejin.cn/post/7031572366341701663?utm_source=gold_browser_extension ğŸ”¥å¥½æ–‡ç« 

4. paint Timing API
é¦–å±æ¸²æŸ“æ—¶é—´ã€é¦–æ¬¡æœ‰å†…å®¹æ¸²æŸ“æ—¶é—´


2. é¦–å±æ—¶é—´è®¡ç®—
æˆ‘ä»¬çŸ¥é“é¦–å±æ—¶é—´æ˜¯ä¸€é¡¹é‡è¦æŒ‡æ ‡ï¼Œä½†æ˜¯åˆå¾ˆéš¾ä» performance ä¸­æ‹¿åˆ°ï¼Œæ¥çœ‹ä¸‹é¦–å±æ—¶é—´è®¡ç®—ä¸»è¦æœ‰å“ªäº›æ–¹å¼ï¼Ÿ
1ï¼‰ç”¨æˆ·è‡ªå®šä¹‰æ‰“ç‚¹â€”æœ€å‡†ç¡®çš„æ–¹å¼ï¼ˆåªæœ‰ç”¨æˆ·è‡ªå·±æœ€æ¸…æ¥šï¼Œä»€ä¹ˆæ ·çš„æ—¶é—´æ‰ç®—æ˜¯é¦–å±åŠ è½½å®Œæˆï¼‰
5ï¼‰åˆ©ç”¨ MutationObserver æ¥å£æä¾›äº†ç›‘è§†å¯¹ DOM æ ‘æ‰€åšæ›´æ”¹çš„èƒ½åŠ›ï¼Œæ˜¯ DOM3 Events è§„èŒƒçš„ä¸€éƒ¨åˆ†ã€‚
æ–¹æ³•ï¼šåœ¨é¦–å±å†…å®¹æ¨¡å—æ’å…¥ä¸€ä¸ª divï¼Œåˆ©ç”¨ Mutation Observer API ç›‘å¬è¯¥ div çš„ dom äº‹ä»¶ï¼Œåˆ¤æ–­è¯¥ div çš„é«˜åº¦æ˜¯å¦å¤§äº 0 æˆ–è€…å¤§äºæŒ‡å®šå€¼ï¼Œå¦‚æœå¤§äºäº†ï¼Œ
å°±è¡¨ç¤ºä¸»è¦å†…å®¹å·²ç»æ¸²æŸ“å‡ºæ¥ï¼Œå¯è®¡ç®—é¦–å±æ—¶é—´ã€‚


3. å¼‚å¸¸ä¸ŠæŠ¥
1ï¼‰js error
ç›‘å¬ window.onerror äº‹ä»¶
2ï¼‰promise reject çš„å¼‚å¸¸
ç›‘å¬ unhandledrejection äº‹ä»¶
window.addEventListener("unhandledrejection", function (event) {
    console.warn("WARNING: Unhandled promise rejection. Shame on you! Reason: "
        + event.reason);
});
3ï¼‰èµ„æºåŠ è½½å¤±è´¥
window.addEventListener('error')
4ï¼‰ç½‘ç»œè¯·æ±‚å¤±è´¥
é‡å†™ window.XMLHttpRequest å’Œ window.fetch æ•è·è¯·æ±‚é”™è¯¯
5ï¼‰iframe å¼‚å¸¸
window.frames[0].onerror
6ï¼‰window.console.error


5 åˆ†é’Ÿæ’¸ä¸€ä¸ªå‰ç«¯æ€§èƒ½ç›‘æ§å·¥å…·
https://juejin.cn/post/6844903662020460552
10åˆ†é’Ÿå½»åº•ææ‡‚å‰ç«¯é¡µé¢æ€§èƒ½ç›‘æ§https://zhuanlan.zhihu.com/p/82981365


æ¥ï¼Œè·Ÿæˆ‘ä¸€èµ· ï¼Œè‡ªç ”å¤šç«¯é”™è¯¯ç›‘æ§å¹³å°ï¼ˆå®Œæ•´ç‰ˆï¼‰ ğŸ”¥ esæŸ¥è¯¢æ•°æ®
https://juejin.cn/post/6844904202917904391
SDK å°ç»“
æˆ‘ä»¬ç”¨ä¸€å¥è¯å¯¹ SDK è¿›è¡Œå°ç»“:
ç›‘å¬ / åŠ«æŒ åŸå§‹æ–¹æ³•ï¼Œè·å–éœ€è¦ä¸ŠæŠ¥çš„æ•°æ®ï¼Œåœ¨é”™è¯¯å‘ç”Ÿæ—¶ è§¦å‘ å‡½æ•°ä½¿ç”¨ gif ä¸ŠæŠ¥ã€‚
ä¸ºäº†æ–¹ä¾¿è®°å¿†ï¼Œæç‚¼ 3 ä¸ªå…³é”®è¯ï¼šåŠ«æŒã€åŸå§‹æ–¹æ³•ã€gifï¼ï¼ˆå¦‚æœä½ è¿˜è®°ä¸ä½ï¼Œé‚£ä¹Ÿåˆ«æ‰“æˆ‘ï¼‰

ä» ES ä¸­è·å–æ•°æ®éå¸¸ç®€å•ï¼ŒES åº•å±‚æ˜¯åŸºäº Lucene çš„æœç´¢æœåŠ¡å™¨çš„ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªåˆ†å¸ƒå¼å¤šç”¨æˆ·èƒ½åŠ›çš„å…¨æ–‡æœç´¢å¼•æ“ï¼Œ
åŸºäº RESTful web æ¥å£ã€‚æ‰€ä»¥æˆ‘ä»¬å‰ç«¯å¼€å‘åªéœ€è¦æƒ³å¹³æ—¶å¼€å‘ä¸šåŠ¡è°ƒç”¨æ¥å£ä¸€æ ·å»è°ƒç”¨å°±å¯ä»¥äº†ã€‚ 



ã€ã€const PV_URL_SET = new Set()

class MyStatistic {
    constructor(productId) {
        this.productId = productId
        this.initPerformance() // æ€§èƒ½ç»Ÿè®¡
        this.initError() // é”™è¯¯ç›‘æ§
    }
    // å‘é€ç»Ÿè®¡æ•°æ®
    send(url, params = {}) {
        params.productId = productId
        const paramArr = []
        for (let key in params) {
            const val = params[key]
            paramArr.push(`${key}=${value}`)
        }
        const newUrl = `${url}?${paramArr.join('&')}` // url?a=10&b=20
        // ç”¨ <img> å‘é€ï¼š1. å¯è·¨åŸŸï¼›2. å…¼å®¹æ€§éå¸¸å¥½
        const img = document.createElement('img')
        img.src = newUrl // get
    }
    // åˆå§‹åŒ–æ€§èƒ½ç»Ÿè®¡
    initPerformance() {
        const url = 'yyy'
        this.send(url, performance.timing) // ç»™æœ€åŸå§‹çš„ã€å®Œæ•´çš„ç»“æœï¼ŒåŸå§‹æ•°æ®
    }
    // åˆå§‹åŒ–é”™è¯¯ç›‘æ§
    initError() {
        window.addEventListener('error', event => {
            const { error, lineno, colno } = event
            this.error(error, { lineno, colno })
        })
        // Promise æœª catch ä½çš„æŠ¥é”™
        window.addEventListener('unhandledrejection', event => {
            this.error(new Error(event.reason), { type: 'unhandledrejection' })
        })
    }
    pv() {
        const href = location.href
        if (PV_URL_SET.get(href)) return // ä¸é‡å¤å‘é€ pv
        this.event('pv')
        PV_URL_SET.add(href)
    }
    event(key, val) {
        const url = 'xxx' // è‡ªå®šä¹‰äº‹ä»¶ç»Ÿè®¡ server API
        this.send(url, {key, val})
    }
    error(err, info = {}) {
        const url = 'zzz'
        const { message, stack } = err
        this.send(url, { message, stack, ...info  })
    }
}


è…¾è®¯ä¸‰é¢ï¼šè¯´è¯´å‰ç«¯ç›‘æ§å¹³å°/ç›‘æ§SDKçš„æ¶æ„è®¾è®¡å’Œéš¾ç‚¹äº®ç‚¹ï¼Ÿ
https://juejin.cn/post/7108660942686126093

ä¸€æ–‡æ‘¸æ¸…å‰ç«¯ç›‘æ§è‡ªç ”å®è·µï¼ˆä¸€ï¼‰æ€§èƒ½ç›‘æ§
https://juejin.cn/post/7097157902862909471
ä¸€æ–‡æ‘¸æ¸…å‰ç«¯ç›‘æ§è‡ªç ”å®è·µï¼ˆäºŒï¼‰è¡Œä¸ºç›‘æ§
https://juejin.cn/post/7098656658649251877
ä¸€æ–‡æ‘¸æ¸…å‰ç«¯ç›‘æ§è‡ªç ”å®è·µï¼ˆä¸‰ï¼‰é”™è¯¯ç›‘æ§
https://juejin.cn/post/7100841779854835719/

ã€å‰ç«¯ç›‘æ§ã€‘å‰ç«¯å¼‚å¸¸æ•è·ä¸å¤„ç†
https://juejin.cn/post/7221481997571047482



å‰ç«¯ç›‘æ§ç³»ç»Ÿ - æ•è·æŠ¥é”™
å‰ç«¯æŠ¥é”™

JS ä»£ç è¿è¡Œé”™è¯¯ã€è¯­æ³•é”™è¯¯ç­‰
å¼‚æ­¥é”™è¯¯ï¼ˆåˆ†ä¸ºæ™®é€šå¼‚æ­¥é”™è¯¯ï¼šsetTimeoutã€Promiseã€async è¯­æ³•ç³–ç­‰ï¼‰
é™æ€èµ„æºåŠ è½½é”™è¯¯
æ¥å£è¯·æ±‚æŠ¥é”™ï¼ˆwindow.XMLHttpRequest ã€ window.fetchï¼‰

æ•è·é”™è¯¯çš„æ–¹æ³•

try catch
window.onerror
window.addEventListener çš„ error
window.addEventListener çš„ unhandledrejection

é“¾æ¥ï¼šhttps://juejin.cn/post/7234807896146444344