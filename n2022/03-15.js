
JS å¯¹è±¡çš„æ·±æ‹·è´å’Œæµ…æ‹·è´  
æµ…æ‹·è´ï¼šå‡è®¾Bå¤åˆ¶äº†Aï¼Œå½“ä¿®æ”¹Aæ—¶ï¼Œçœ‹Bæ˜¯å¦ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœBä¹Ÿè·Ÿç€å˜äº†ï¼Œè¯´æ˜è¿™æ˜¯æµ…æ‹·è´ï¼ŒAã€Bæ˜¯æŒ‡å‘ä¸€ä¸ªåœ°å€çš„ï¼›
æ·±æ‹·è´ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å’ŒåŸå§‹å­—æ®µçš„å†…å®¹ç›¸åŒçš„å­—æ®µï¼Œæ˜¯ä¸¤ä¸ªä¸€æ ·å¤§çš„æ•°æ®æ®µï¼›ä¸¤ä¸ªçš„åœ°å€æ˜¯å§ä¸ä¸€æ ·çš„ï¼›

å‰ç«¯ç™»å½•ï¼Œè¿™ä¸€ç¯‡å°±å¤Ÿäº† ************* å•ç‚¹é€€å‡º   
 https://www.cnblogs.com/itgezhu/p/13268420.html
******* å•ç‚¹ç™»å½•
1.ç”¨æˆ·è®¿é—®web1ç³»ç»Ÿ
2.web1æ²¡æœ‰ç™»å½•ï¼Œå°±ä¼šè·³è½¬åˆ°ssoç³»ç»Ÿï¼Œ ssoç³»ç»Ÿä¹Ÿæ²¡æœ‰ç™»å½•å°±ä¼šå¼¹å‡ºç™»å½•é¡µé¢
3.ç”¨æˆ·æäº¤è´¦æˆ·å¯†ç æäº¤åï¼Œä¼šå°†ç™»é™†çŠ¶æ€å†™å…¥ssoçš„session
4.å¹¶ä¸”ä¼šåœ¨æµè§ˆå™¨ä¸­å†™å…¥ssoåŸŸä¸‹çš„cookieï¼Œ ssoç³»ç»Ÿç™»å½•å®Œæˆåä¼šç”Ÿæˆä»¥ä¸€ä¸ªticket
  ç„¶åè·³è½¬åˆ°web1ç³»ç»Ÿé¡µé¢ï¼ŒåŒæ—¶å°†ticketåšä½å‚æ•°ä¼ é€’ç»™web1ç³»ç»Ÿ
5.Web1ç³»ç»Ÿæ‹¿åˆ°ticketåï¼Œä»æœåŠ¡ç«¯å‘ssoå‘é€è¯·æ±‚ï¼ŒéªŒè¯ticketæ˜¯å¦æœ‰æ•ˆï¼Œå¹¶ä¸”è·å–ç”¨æˆ·ä¿¡æ¯
éªŒè¯é€šè¿‡åï¼Œweb1ç³»ç»Ÿä¼šå°†ç”¨æˆ·ä¿¡æ¯å†™å…¥sessionå¹¶ä¸”è®¾ç½®webåŸŸä¸‹çš„cookieï¼Œ

6è¿™æ ·è·¨åŸŸå•ç‚¹ç™»å½•å°±å®Œæˆäº†ã€‚

web2ï¼Œç”±äºweb2ä¹Ÿæ²¡æœ‰ç™»å½•ï¼Œæ‰€ä»¥è¿™æ—¶å€™ä¼šè·³è½¬åˆ°ssoï¼Œ
ç”±äºssoå·²ç»ç™»å½•äº†ï¼Œä¸éœ€è¦è¾“å…¥è´¦å·å¯†ç è¿›è¡ŒéªŒè¯ï¼Œssoä¼šç›´æ¥ç”Ÿæˆticket
è¿”å›ç»™web2ï¼Œ ä»æœåŠ¡ç«¯å‘ssoå‘é€è¯·æ±‚ï¼ŒéªŒè¯ticketæ˜¯å¦æœ‰æ•ˆï¼Œï¼Œå¹¶ä¸”è·å–ç”¨æˆ·ä¿¡æ¯
éªŒè¯é€šè¿‡åï¼Œappç³»ç»Ÿä¼šå°†ç”¨æˆ·ä¿¡æ¯å†™å…¥sessionå¹¶ä¸”è®¾ç½®webåŸŸä¸‹çš„cookieï¼Œ

https://www.bilibili.com/video/BV12a411273W/?spm_id_from=333.788.recommend_more_video.1

ç”¨æˆ·å‘ç³»ç»Ÿ1å‘èµ·æ³¨é”€è¯·æ±‚
ç³»ç»Ÿ1æ ¹æ®ç”¨æˆ·ä¸ç³»ç»Ÿ1å»ºç«‹çš„ä¼šè¯idæ‹¿åˆ°ä»¤ç‰Œï¼Œå‘ssoè®¤è¯ä¸­å¿ƒå‘èµ·æ³¨é”€è¯·æ±‚
ssoè®¤è¯ä¸­å¿ƒæ ¡éªŒä»¤ç‰Œæœ‰æ•ˆï¼Œé”€æ¯å…¨å±€ä¼šè¯ï¼ŒåŒæ—¶å–å‡ºæ‰€æœ‰ç”¨æ­¤ä»¤ç‰Œæ³¨å†Œçš„ç³»ç»Ÿåœ°å€
ssoè®¤è¯ä¸­å¿ƒå‘æ‰€æœ‰æ³¨å†Œç³»ç»Ÿå‘èµ·æ³¨é”€è¯·æ±‚
å„æ³¨å†Œç³»ç»Ÿæ¥æ”¶ssoè®¤è¯ä¸­å¿ƒçš„æ³¨é”€è¯·æ±‚ï¼Œé”€æ¯å±€éƒ¨ä¼šè¯
ssoè®¤è¯ä¸­å¿ƒå¼•å¯¼ç”¨æˆ·è‡³ç™»å½•é¡µé¢

å•ç‚¹ç™»å½•åŸç†ä¸ç®€å•å®ç° 
https://www.cnblogs.com/ywlaker/p/6113927.html

https://www.cnblogs.com/ywlaker/p/6113927.html
ä¸‹é¢å¯¹ä¸Šå›¾ç®€è¦æè¿°

ç”¨æˆ·è®¿é—®ç³»ç»Ÿ1çš„å—ä¿æŠ¤èµ„æºï¼Œç³»ç»Ÿ1å‘ç°ç”¨æˆ·æœªç™»å½•ï¼Œè·³è½¬è‡³ssoè®¤è¯ä¸­å¿ƒï¼Œå¹¶å°†è‡ªå·±çš„åœ°å€ä½œä¸ºå‚æ•°
ssoè®¤è¯ä¸­å¿ƒå‘ç°ç”¨æˆ·æœªç™»å½•ï¼Œå°†ç”¨æˆ·å¼•å¯¼è‡³ç™»å½•é¡µé¢
ç”¨æˆ·è¾“å…¥ç”¨æˆ·åå¯†ç æäº¤ç™»å½•ç”³è¯·
ssoè®¤è¯ä¸­å¿ƒæ ¡éªŒç”¨æˆ·ä¿¡æ¯ï¼Œåˆ›å»ºç”¨æˆ·ä¸ssoè®¤è¯ä¸­å¿ƒä¹‹é—´çš„ä¼šè¯ï¼Œç§°ä¸ºå…¨å±€ä¼šè¯ï¼ŒåŒæ—¶åˆ›å»ºæˆæƒä»¤ç‰Œ
ssoè®¤è¯ä¸­å¿ƒå¸¦ç€ä»¤ç‰Œè·³è½¬ä¼šæœ€åˆçš„è¯·æ±‚åœ°å€ï¼ˆç³»ç»Ÿ1ï¼‰
ç³»ç»Ÿ1æ‹¿åˆ°ä»¤ç‰Œï¼Œå»ssoè®¤è¯ä¸­å¿ƒæ ¡éªŒä»¤ç‰Œæ˜¯å¦æœ‰æ•ˆ
ssoè®¤è¯ä¸­å¿ƒæ ¡éªŒä»¤ç‰Œï¼Œè¿”å›æœ‰æ•ˆï¼Œæ³¨å†Œç³»ç»Ÿ1
ç³»ç»Ÿ1ä½¿ç”¨è¯¥ä»¤ç‰Œåˆ›å»ºä¸ç”¨æˆ·çš„ä¼šè¯ï¼Œç§°ä¸ºå±€éƒ¨ä¼šè¯ï¼Œè¿”å›å—ä¿æŠ¤èµ„æº
ç”¨æˆ·è®¿é—®ç³»ç»Ÿ2çš„å—ä¿æŠ¤èµ„æº
ç³»ç»Ÿ2å‘ç°ç”¨æˆ·æœªç™»å½•ï¼Œè·³è½¬è‡³ssoè®¤è¯ä¸­å¿ƒï¼Œå¹¶å°†è‡ªå·±çš„åœ°å€ä½œä¸ºå‚æ•°
ssoè®¤è¯ä¸­å¿ƒå‘ç°ç”¨æˆ·å·²ç™»å½•ï¼Œè·³è½¬å›ç³»ç»Ÿ2çš„åœ°å€ï¼Œå¹¶é™„ä¸Šä»¤ç‰Œ
ç³»ç»Ÿ2æ‹¿åˆ°ä»¤ç‰Œï¼Œå»ssoè®¤è¯ä¸­å¿ƒæ ¡éªŒä»¤ç‰Œæ˜¯å¦æœ‰æ•ˆ
ssoè®¤è¯ä¸­å¿ƒæ ¡éªŒä»¤ç‰Œï¼Œè¿”å›æœ‰æ•ˆï¼Œæ³¨å†Œç³»ç»Ÿ2
ç³»ç»Ÿ2ä½¿ç”¨è¯¥ä»¤ç‰Œåˆ›å»ºä¸ç”¨æˆ·çš„å±€éƒ¨ä¼šè¯ï¼Œè¿”å›å—ä¿æŠ¤èµ„æº
ã€€ã€€ç”¨æˆ·ç™»å½•æˆåŠŸä¹‹åï¼Œä¼šä¸ssoè®¤è¯ä¸­å¿ƒåŠå„ä¸ªå­ç³»ç»Ÿå»ºç«‹ä¼šè¯ï¼Œç”¨æˆ·ä¸ssoè®¤è¯ä¸­å¿ƒå»ºç«‹çš„ä¼šè¯ç§°ä¸ºå…¨å±€ä¼šè¯ï¼Œç”¨æˆ·ä¸å„ä¸ªå­ç³»ç»Ÿå»ºç«‹çš„ä¼šè¯ç§°ä¸ºå±€éƒ¨ä¼šè¯ï¼Œå±€éƒ¨ä¼šè¯å»ºç«‹ä¹‹åï¼Œç”¨æˆ·è®¿é—®å­ç³»ç»Ÿå—ä¿æŠ¤èµ„æºå°†ä¸å†é€šè¿‡ssoè®¤è¯ä¸­å¿ƒï¼Œå…¨å±€ä¼šè¯ä¸å±€éƒ¨ä¼šè¯æœ‰å¦‚ä¸‹çº¦æŸå…³ç³»

å±€éƒ¨ä¼šè¯å­˜åœ¨ï¼Œå…¨å±€ä¼šè¯ä¸€å®šå­˜åœ¨
å…¨å±€ä¼šè¯å­˜åœ¨ï¼Œå±€éƒ¨ä¼šè¯ä¸ä¸€å®šå­˜åœ¨
å…¨å±€ä¼šè¯é”€æ¯ï¼Œå±€éƒ¨ä¼šè¯å¿…é¡»é”€æ¯


ã€€ã€€ssoè®¤è¯ä¸­å¿ƒä¸€ç›´ç›‘å¬å…¨å±€ä¼šè¯çš„çŠ¶æ€ï¼Œä¸€æ—¦å…¨å±€ä¼šè¯é”€æ¯ï¼Œç›‘å¬å™¨å°†é€šçŸ¥æ‰€æœ‰æ³¨å†Œç³»ç»Ÿæ‰§è¡Œæ³¨é”€æ“ä½œ

æ³¨é”€
ã€€ã€€å•ç‚¹ç™»å½•è‡ªç„¶ä¹Ÿè¦å•ç‚¹æ³¨é”€ï¼Œåœ¨ä¸€ä¸ªå­ç³»ç»Ÿä¸­æ³¨é”€ï¼Œæ‰€æœ‰å­ç³»ç»Ÿçš„ä¼šè¯éƒ½å°†è¢«é”€æ¯ï¼Œç”¨ä¸‹é¢çš„å›¾æ¥è¯´æ˜
ã€€ã€€ä¸‹é¢å¯¹ä¸Šå›¾ç®€è¦è¯´æ˜

ç”¨æˆ·å‘ç³»ç»Ÿ1å‘èµ·æ³¨é”€è¯·æ±‚
ç³»ç»Ÿ1æ ¹æ®ç”¨æˆ·ä¸ç³»ç»Ÿ1å»ºç«‹çš„ä¼šè¯idæ‹¿åˆ°ä»¤ç‰Œï¼Œå‘ssoè®¤è¯ä¸­å¿ƒå‘èµ·æ³¨é”€è¯·æ±‚
ssoè®¤è¯ä¸­å¿ƒæ ¡éªŒä»¤ç‰Œæœ‰æ•ˆï¼Œé”€æ¯å…¨å±€ä¼šè¯ï¼ŒåŒæ—¶å–å‡ºæ‰€æœ‰ç”¨æ­¤ä»¤ç‰Œæ³¨å†Œçš„ç³»ç»Ÿåœ°å€
ssoè®¤è¯ä¸­å¿ƒå‘æ‰€æœ‰æ³¨å†Œç³»ç»Ÿå‘èµ·æ³¨é”€è¯·æ±‚
å„æ³¨å†Œç³»ç»Ÿæ¥æ”¶ssoè®¤è¯ä¸­å¿ƒçš„æ³¨é”€è¯·æ±‚ï¼Œé”€æ¯å±€éƒ¨ä¼šè¯
ssoè®¤è¯ä¸­å¿ƒå¼•å¯¼ç”¨æˆ·è‡³ç™»å½•é¡µé¢


å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰å®ç° ğŸ”¥

åŒåŸŸåä¸‹çš„å•ç‚¹ç™»å½•
ä¸åŒåŸŸåä¸‹çš„å•ç‚¹ç™»å½•

app1ç™»å½•

ç”¨æˆ·è®¿é—®app1ç³»ç»Ÿï¼Œapp1ç³»ç»Ÿæ˜¯éœ€è¦ç™»å½•çš„ï¼Œä½†ç”¨æˆ·ç°åœ¨æ²¡æœ‰ç™»å½•ã€‚é‡å®šå‘åˆ°ssoè®¤è¯ä¸­å¿ƒï¼Œå¹¶å°†è‡ªå·±çš„åœ°å€ä½œä¸ºå‚æ•°ã€‚
www.sso.com?service=www.java3y.com ï¼ˆwww.java3y.comè§†ä¸ºappç³»ç»Ÿçš„åœ°å€ï¼‰

è·³è½¬åˆ°CAS serverï¼Œå³SSOç™»å½•ç³»ç»Ÿï¼Œä»¥åå›¾ä¸­çš„CAS Serveræˆ‘ä»¬ç»Ÿä¸€å«åšSSOç³»ç»Ÿã€‚ SSOç³»ç»Ÿä¹Ÿæ²¡æœ‰ç™»å½•ï¼Œå¼¹å‡ºç”¨æˆ·ç™»å½•é¡µã€‚

ç”¨æˆ·å¡«å†™ç”¨æˆ·åã€å¯†ç ï¼ŒSSOç³»ç»Ÿè¿›è¡Œè®¤è¯åï¼Œå°†ç™»å½•çŠ¶æ€å†™å…¥SSOçš„sessionï¼Œæµè§ˆå™¨ï¼ˆBrowserï¼‰ä¸­å†™å…¥SSOåŸŸä¸‹çš„Cookieã€‚
å³ï¼šç”¨æˆ·ä¸è®¤è¯ä¸­å¿ƒå»ºç«‹å…¨å±€ä¼šè¯ï¼ˆç”Ÿæˆä¸€ä»½Tokenï¼Œå†™åˆ°Cookieä¸­ï¼Œä¿å­˜åœ¨æµè§ˆå™¨ä¸Šï¼‰ ï¼‰

è®¤è¯ä¸­å¿ƒé‡å®šå‘å›appç³»ç»Ÿï¼Œå¹¶æŠŠTokenæºå¸¦è¿‡å»ç»™app1ï¼Œé‡å®šå‘çš„åœ°å€å¦‚ï¼š
www.java3y.com?token=xxxxxxx
SSOç³»ç»Ÿç™»å½•å®Œæˆåä¼šç”Ÿæˆä¸€ä¸ªSTï¼ˆService Ticketï¼‰ ï¼Œç„¶åè·³è½¬åˆ°app1ç³»ç»Ÿï¼ŒåŒæ—¶å°†STä½œä¸ºå‚æ•°ä¼ é€’ç»™app1ç³»ç»Ÿã€‚

app1ç³»ç»Ÿæ‹¿åˆ°STåï¼Œä»åå°å‘SSOå‘é€è¯·æ±‚ï¼ŒéªŒè¯STæ˜¯å¦æœ‰æ•ˆã€‚

éªŒè¯é€šè¿‡åï¼Œapp1ç³»ç»Ÿå°†ç™»å½•çŠ¶æ€å†™å…¥sessionå¹¶è®¾ç½®appåŸŸä¸‹çš„Cookieã€‚æ³¨æ„ï¼Œæ­¤å¤„çš„ cookie å’Œ session ä¿å­˜çš„æ˜¯ç”¨æˆ·åœ¨ app1 ç³»ç»Ÿçš„ç™»å½•çŠ¶æ€ï¼Œå’Œ CAS æ— å…³ã€‚

app2ç™»å½•æ—¶ï¼š

ç”¨æˆ·è®¿é—®app2ç³»ç»Ÿï¼Œapp2ç³»ç»Ÿæ²¡æœ‰ç™»å½•ï¼Œè·³è½¬åˆ°SSOã€‚
ç”±äºSSOå·²ç»ç™»å½•äº†ï¼Œä¸éœ€è¦é‡æ–°ç™»å½•è®¤è¯ã€‚
SSOç”ŸæˆSTï¼Œæµè§ˆå™¨è·³è½¬åˆ°app2ç³»ç»Ÿï¼Œå¹¶å°†STä½œä¸ºå‚æ•°ä¼ é€’ç»™app2ã€‚
app2æ‹¿åˆ°STï¼Œåå°è®¿é—®SSOï¼ŒéªŒè¯STæ˜¯å¦æœ‰æ•ˆã€‚
éªŒè¯æˆåŠŸåï¼Œapp2å°†ç™»å½•çŠ¶æ€å†™å…¥sessionï¼Œå¹¶åœ¨app2åŸŸä¸‹å†™å…¥Cookieã€‚

ä½œè€…ï¼šçˆ±åšæ¢¦çš„å°å­
é“¾æ¥ï¼šhttps://juejin.cn/post/7090926280127807501


è¯´ä¸‹å•ç‚¹ç™»å½•
å‚è€ƒç­”æ¡ˆï¼š
SSO ä¸€èˆ¬éƒ½éœ€è¦ä¸€ä¸ªç‹¬ç«‹çš„è®¤è¯ä¸­å¿ƒï¼ˆpassportï¼‰ï¼Œå­ç³»ç»Ÿçš„ç™»å½•å‡å¾—é€šè¿‡ passportï¼Œå­ç³»ç»Ÿæœ¬èº«å°†ä¸å‚ä¸ç™»å½•æ“ä½œï¼Œå½“ä¸€ä¸ªç³»ç»ŸæˆåŠŸç™»å½•ä»¥åï¼Œpassport å°†ä¼šé¢å‘ä¸€ä¸ªä»¤ç‰Œç»™å„ä¸ªå­ç³»ç»Ÿï¼Œå­ç³»ç»Ÿå¯ä»¥æ‹¿ç€ä»¤ç‰Œä¼šè·å–å„è‡ªçš„å—ä¿æŠ¤èµ„æºï¼Œä¸ºäº†å‡å°‘é¢‘ç¹è®¤è¯ï¼Œå„ä¸ªå­ç³»ç»Ÿåœ¨è¢« passport æˆæƒä»¥åï¼Œä¼šå»ºç«‹ä¸€ä¸ªå±€éƒ¨ä¼šè¯ï¼Œåœ¨ä¸€å®šæ—¶é—´å†…å¯ä»¥æ— éœ€å†æ¬¡å‘ passport å‘èµ·è®¤è¯ã€‚
å…·ä½“æµç¨‹æ˜¯ï¼š

ç”¨æˆ·è®¿é—®ç³»ç»Ÿ 1 çš„å—ä¿æŠ¤èµ„æºï¼Œç³»ç»Ÿ 1 å‘ç°ç”¨æˆ·æœªç™»å½•ï¼Œè·³è½¬è‡³ sso è®¤è¯ä¸­å¿ƒï¼Œå¹¶å°†è‡ªå·±çš„åœ°å€ä½œä¸ºå‚æ•°
sso è®¤è¯ä¸­å¿ƒå‘ç°ç”¨æˆ·æœªç™»å½•ï¼Œå°†ç”¨æˆ·å¼•å¯¼è‡³ç™»å½•é¡µé¢
ç”¨æˆ·è¾“å…¥ç”¨æˆ·åå¯†ç æäº¤ç™»å½•ç”³è¯·
sso è®¤è¯ä¸­å¿ƒæ ¡éªŒç”¨æˆ·ä¿¡æ¯ï¼Œåˆ›å»ºç”¨æˆ·ä¸ sso è®¤è¯ä¸­å¿ƒä¹‹é—´çš„ä¼šè¯ï¼Œç§°ä¸ºå…¨å±€ä¼šè¯ï¼ŒåŒæ—¶åˆ›å»ºæˆæƒä»¤ç‰Œ
sso è®¤è¯ä¸­å¿ƒå¸¦ç€ä»¤ç‰Œè·³è½¬ä¼šæœ€åˆçš„è¯·æ±‚åœ°å€ï¼ˆç³»ç»Ÿ 1ï¼‰
ç³»ç»Ÿ 1 æ‹¿åˆ°ä»¤ç‰Œï¼Œå» sso è®¤è¯ä¸­å¿ƒæ ¡éªŒä»¤ç‰Œæ˜¯å¦æœ‰æ•ˆ
sso è®¤è¯ä¸­å¿ƒæ ¡éªŒä»¤ç‰Œï¼Œè¿”å›æœ‰æ•ˆï¼Œæ³¨å†Œç³»ç»Ÿ 1
ç³»ç»Ÿ 1 ä½¿ç”¨è¯¥ä»¤ç‰Œåˆ›å»ºä¸ç”¨æˆ·çš„ä¼šè¯ï¼Œç§°ä¸ºå±€éƒ¨ä¼šè¯ï¼Œè¿”å›å—ä¿æŠ¤èµ„æº
ç”¨æˆ·è®¿é—®ç³»ç»Ÿ 2 çš„å—ä¿æŠ¤èµ„æº
ç³»ç»Ÿ 2 å‘ç°ç”¨æˆ·æœªç™»å½•ï¼Œè·³è½¬è‡³ sso è®¤è¯ä¸­å¿ƒï¼Œå¹¶å°†è‡ªå·±çš„åœ°å€ä½œä¸ºå‚æ•°
sso è®¤è¯ä¸­å¿ƒå‘ç°ç”¨æˆ·å·²ç™»å½•ï¼Œè·³è½¬å›ç³»ç»Ÿ 2 çš„åœ°å€ï¼Œå¹¶é™„ä¸Šä»¤ç‰Œ
ç³»ç»Ÿ 2 æ‹¿åˆ°ä»¤ç‰Œï¼Œå» sso è®¤è¯ä¸­å¿ƒæ ¡éªŒä»¤ç‰Œæ˜¯å¦æœ‰æ•ˆ
sso è®¤è¯ä¸­å¿ƒæ ¡éªŒä»¤ç‰Œï¼Œè¿”å›æœ‰æ•ˆï¼Œæ³¨å†Œç³»ç»Ÿ 2
ç³»ç»Ÿ 2 ä½¿ç”¨è¯¥ä»¤ç‰Œåˆ›å»ºä¸ç”¨æˆ·çš„å±€éƒ¨ä¼šè¯ï¼Œè¿”å›å—ä¿æŠ¤èµ„æº

ä½œè€…ï¼šä¸€åªå‰ç«¯å°èœé¸Ÿ
é“¾æ¥ï¼šhttps://juejin.cn/post/7095945284504518663

react-ant-adminåå°ç®¡ç†ç³»ç»Ÿï¼Œç”¨äºå¿«é€Ÿåˆ›å»ºåå°é¡¹ç›®æ¨¡æ¿
https://www.cnblogs.com/kongyijilafumi/p/14695044.html

const cityData = [
{
  id: 'axzx',
  name: 'å¹¿ä¸œçœ',
  children: [
    {
      id: 'sdsd',
      name: 'æ·±åœ³å¸‚',
      children: [
        {
          id: '45dss',
          name: 'å—å±±åŒº'
        },
        {
          id: 'sdsd11',
          name: 'ç¦ç”°åŒº',
          children: [{
            id: 'ddrr2',
            name: 'Aè¡—é“'
          }]
        }
      ]
    },
    {
      id: '2323d',
      name: 'ä¸œèå¸‚',
      children: [
        {
          id: 'xxs2',
          name: 'AåŒº'
        },
        {
          id: 'kklio2',
          name: 'BåŒº',
        }
      ]
    }
  ]
}];

function getPathById(cityData, id){
    //å®šä¹‰å˜é‡ä¿å­˜å½“å‰ç»“æœè·¯å¾„
    let temppath = [];
    try {
      function getNodePath(node) {
        temppath.push(node.name);
        // console.log('==========',temppath)
        //æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹ï¼Œé€šè¿‡throwç»ˆæ­¢æ‰é€’å½’
        if (node.id === id) {
          throw ('GOT IT!');
        }
        if (node.children && node.children.length > 0) {
          for (let i = 0; i < node.children.length; i++) {
            getNodePath(node.children[i]);
          }
          //å½“å‰èŠ‚ç‚¹çš„å­èŠ‚ç‚¹éå†å®Œä¾æ—§æ²¡æ‰¾åˆ°ï¼Œåˆ™åˆ é™¤è·¯å¾„ä¸­çš„è¯¥èŠ‚ç‚¹
          temppath.pop();
        } else {
          //æ‰¾åˆ°å¶å­èŠ‚ç‚¹æ—¶ï¼Œåˆ é™¤è·¯å¾„å½“ä¸­çš„è¯¥å¶å­èŠ‚ç‚¹
          temppath.pop();
        }
      }
      getNodePath(cityData);
    } catch (e) {
      console.log(temppath)
      return temppath;
    }
  }
  getPathById(cityData.shift(), 'sdsd11')

åƒåˆ†ä½ã€é˜¿é‡Œã€‘https://juejin.cn/post/6899316658377555976
// function format(str) {  //1ï¼Œ234ï¼Œ568
//   // æ ¡éªŒã€å°æ•°ç‚¹ã€è´Ÿæ•° å…ˆåˆ‡æ‰
//   return str.split('').reduceRight((pre, next, index,origin) => {
//     return (index % 3 ? next : next + ',') + pre;
//   });
// }

react
// è§¦å‘æ›´æ–°çš„ä¸‰ç§æ–¹å¼
// 1. setState (ä½œç”¨: ä¿®æ”¹stateæ•°æ®, æ›´æ–°è§†å›¾)
// 2. forceUpdate å¼ºåˆ¶è§¦å‘æ›´æ–°
// 3. props å˜åŒ–æ—¶, è§¦å‘æ›´æ–°

25 æ‰‹å†™-å°†è™šæ‹Ÿ Dom è½¬åŒ–ä¸ºçœŸå® Domï¼ˆç±»ä¼¼çš„é€’å½’é¢˜-å¿…è€ƒï¼‰
{
  tag: 'DIV',
  attrs:{
    id:'app'
  },
  children: [
    {
      tag: 'SPAN',
      children: [
        { tag: 'A', children: [] }
      ]
    },
    {
      tag: 'SPAN',
      children: [
        { tag: 'A', children: [] },
        { tag: 'A', children: [] }
      ]
    }
  ]
}
æŠŠä¸Šè¯‰è™šæ‹ŸDomè½¬åŒ–æˆä¸‹æ–¹çœŸå®Dom
<div id="app">
  <span>
    <a></a>
  </span>
  <span>
    <a></a>
    <a></a>
  </span>
</div>

function _render(vnode) {
  if(typeof vnode === 'number') {
    vnode = String(vnode);
  }
  if(typeof vnode === 'string') {
    return document.createTextNode(vnode);
  }
  const dom = document.createElement(vnode.tag);
  if(vnode.attrs) {
    Object.keys(vnode.attrs).forEach((key) => {
      const value = vnode.attrs[key];
      dom.setAttribute(key, value);
    })
  }
  vnode.children.forEach((child) => dom.appendChild(_render(child)));
  return dom;
}


æ‰‹å†™-å®ç°ä¸€ä¸ªå¯¹è±¡çš„ flatten æ–¹æ³•ï¼ˆé˜¿é‡Œï¼‰
const obj = {
  a: {
         b: 1,
         c: 2,
         d: {e: 5}
     },
  b: [1, 3, {a: 2, b: 3}],
  c: 3
 }
 
 flatten(obj) ç»“æœè¿”å›å¦‚ä¸‹
 // {
 //  'a.b': 1,
 //  'a.c': 2,
 //  'a.d.e': 5,
 //  'b[0]': 1,
 //  'b[1]': 3,
 //  'b[2].a': 2,
 //  'b[2].b': 3
 //   c: 3
 // }
 
 function isObject(val) {
  return typeof val === "object" && val !== null;
}

function flatten(obj) {
  if (!isObject(obj)) {
    return;
  }
  let res = {};
  const dfs = (cur, prefix) => {
    if (isObject(cur)) {
      if (Array.isArray(cur)) {
        cur.forEach((item, index) => {
          dfs(item, `${prefix}[${index}]`);
        });
      } else {
        for (let k in cur) {
          dfs(cur[k], `${prefix}${prefix ? "." : ""}${k}`);
        }
      }
    } else {
      res[prefix] = cur;
    }
  };
  dfs(obj, "");

  return res;
}
flatten();


æœ€æ–°çš„å‰ç«¯å¤§å‚é¢ç»ï¼ˆè¯¦è§£ç­”æ¡ˆï¼‰
https://juejin.cn/post/7004638318843412493            